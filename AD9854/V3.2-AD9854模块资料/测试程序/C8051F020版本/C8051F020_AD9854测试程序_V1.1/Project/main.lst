C51 COMPILER V9.05   MAIN                                                                  07/16/2018 20:28:44 PAGE 1   


C51 COMPILER V9.05, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\Application\main.c LARGE BROWSE INCDIR(..\Application;..\Drive) DEBUG OB
                    -JECTEXTEND PRINT(.\main.lst) TABS(2) OBJECT(.\main.obj)

line level    source

   1          //-----------------------------------------------------------------
   2          // 程序描述:
   3          // 　　C8051F020_AD9854测试程序_V1.1
   4          // 作　　者: 凌智电子
   5          // 开始日期: 2015-07-15
   6          // 完成日期: 2015-07-16
   7          // 修改日期: 2015-07-16
   8          // 当前版本: V1.1
   9          // 历史版本:
  10          // 　- V1.0: 基本的AD9854并行控制输出，液晶显示功能
  11          // 　- V1.1：并行控制转串行控制
  12          // 调试工具: 凌智C8051F核心板V1.1、1602液晶屏
  13          // 说　　明: 
  14          //        (1) 调试使用的系统时钟频率Fsysclk=22.1184MHz;
  15          //        (2) AD9854的数据传输方式:串行传输方式;
  16          //        (3) AD9854_IO与凌智C8051F核心板V1.1连接方式如30-44行代码提示连接
  17          //        (4) 本测试程序实现基本的AD9854控制输出，即1MHz正弦波输出。可通过修改59行(fre值)代码修改输出频率
  18          //-----------------------------------------------------------------
  19          
  20          //-----------------------------------------------------------------
  21          // 头文件包含
  22          //-----------------------------------------------------------------
  23          #include <c8051f020.h>
  24          #include "system_init.h"
  25          #include "AD9854.h"
  26          #include "CharLCD.h"
  27          #include "delay.h"
  28          #include "type.h"
  29          
  30          //-----------------------------------------------------------------
  31          //               IO 连接说明
  32          //-----------------------------------------------------------------
  33          //    AD9854         |      020         
  34          // A0/SDIO           -->   P10        
  35          // A1/SDO            -->   P11      
  36          // A2/IORST          -->   P12      
  37          // RD                -->   P07
  38          // WR                -->   P06
  39          // UDCLK             -->   P05
  40          // RESET             -->   P04
  41          // S/P               -->   P00
  42          // OSK               -->   P01
  43          // FDSTA             -->   P02
  44          //-----------------------------------------------------------------
  45          
  46          //-----------------------------------------------------------------
  47          // 主程序
  48          //-----------------------------------------------------------------
  49          void main(void)
  50          {  
  51   1        ulong fre ;
  52   1        
  53   1        init();
  54   1        WrCLcdC(0x06);
C51 COMPILER V9.05   MAIN                                                                  07/16/2018 20:28:44 PAGE 2   

  55   1        WriteString(1, 1,"  AD9854 TEST!  ");
  56   1        WriteString(2, 1,"Fre:         Hz");
  57   1        AD9854_Init();
  58   1        
  59   1        fre = 1000000;
  60   1        if (fre > 99999999)
  61   1        {
  62   2          fre = 99999999;
  63   2        }
  64   1        WrCLcd_long_num (2,6,fre);
  65   1        AD9854_SetSine ( fre , 4095 );
  66   1        while (1)
  67   1        {
  68   2          ;                     
  69   2        }
  70   1      }
  71          
  72          //-----------------------------------------------------------------
  73          // End Of File
  74          //-----------------------------------------------------------------


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    141    ----
   CONSTANT SIZE    =     33    ----
   XDATA SIZE       =   ----       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
